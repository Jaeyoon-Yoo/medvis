<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Test">
    <title>patient_page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="/static/patient_page.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/patient_page.css"> 
    <h1 id='patient_id'>{{ID}}</h1>
</head>
<body>
    <div class="screen_01_image_view">        
    </div>
    <div class="screen_02_table_list">
        <table id="category_list">
        </table>
    </div>
    <div class="screen_03_detail_results">
        
    </div>

    <script type="text/javascript">
        // Flask에서 전달된 ID를 JavaScript 변수에 할당
        var patientID = "{{ ID }}";
        function make_category_list(id) {
            console.log("Performing action with Patient ID:", id);
            $.getJSON('/get_categories?ID='+patientID, function(data) {
                data.Categories.forEach(function(item) {
                    var cell = document.createElement('td');
                    cell.setAttribute("id", "idx_categories");
                    cell.setAttribute("class", "btn btn-secondary");
                    cell.style.width = "100%";
                    cell.style.padding = "5px"; // Add padding here
                    cell.appendChild(document.createTextNode(item));
                    $('#category_list').append(cell);
                });
            $('#category_list').style.padding = "5px";
                

            });
        }
        make_category_list(patientID);
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>    

</body>

</html>
